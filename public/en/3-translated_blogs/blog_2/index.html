<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.149.1">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Äá»‹nh tuyáº¿n Ä‘á»™ng sá»­ dá»¥ng MÃ¡y chá»§ Ä‘á»‹nh tuyáº¿n AWS VPC Amazon VPC Route Server cho phÃ©p triá»ƒn khai cÆ¡ cháº¿ Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong Amazon VPC báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c BGP (Border Gateway Protocol). Vá»›i dá»‹ch vá»¥ nÃ y, báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng giá»¯a cÃ¡c á»©ng dá»¥ng trÃªn cloud vÃ  há»‡ thá»‘ng on-premises má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n. BGP giÃºp báº¡n quáº£n lÃ½ Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u linh hoáº¡t, Ä‘áº·c biá»‡t trong cÃ¡c tÃ¬nh huá»‘ng xáº£y ra sá»± cá»‘, Ä‘á»“ng thá»i giáº£m thiá»ƒu khá»‘i lÆ°á»£ng cÃ´ng viá»‡c thá»§ cÃ´ng vÃ  háº¡n cháº¿ rá»§i ro do con ngÆ°á»i.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Blog 2 :: Internship Report">
    <meta name="twitter:description" content="Äá»‹nh tuyáº¿n Ä‘á»™ng sá»­ dá»¥ng MÃ¡y chá»§ Ä‘á»‹nh tuyáº¿n AWS VPC Amazon VPC Route Server cho phÃ©p triá»ƒn khai cÆ¡ cháº¿ Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong Amazon VPC báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c BGP (Border Gateway Protocol). Vá»›i dá»‹ch vá»¥ nÃ y, báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng giá»¯a cÃ¡c á»©ng dá»¥ng trÃªn cloud vÃ  há»‡ thá»‘ng on-premises má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n. BGP giÃºp báº¡n quáº£n lÃ½ Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u linh hoáº¡t, Ä‘áº·c biá»‡t trong cÃ¡c tÃ¬nh huá»‘ng xáº£y ra sá»± cá»‘, Ä‘á»“ng thá»i giáº£m thiá»ƒu khá»‘i lÆ°á»£ng cÃ´ng viá»‡c thá»§ cÃ´ng vÃ  háº¡n cháº¿ rá»§i ro do con ngÆ°á»i.">
    <meta property="og:url" content="http://localhost:1313/en/3-translated_blogs/blog_2/index.html">
    <meta property="og:site_name" content="Internship Report">
    <meta property="og:title" content="Blog 2 :: Internship Report">
    <meta property="og:description" content="Äá»‹nh tuyáº¿n Ä‘á»™ng sá»­ dá»¥ng MÃ¡y chá»§ Ä‘á»‹nh tuyáº¿n AWS VPC Amazon VPC Route Server cho phÃ©p triá»ƒn khai cÆ¡ cháº¿ Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong Amazon VPC báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c BGP (Border Gateway Protocol). Vá»›i dá»‹ch vá»¥ nÃ y, báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng giá»¯a cÃ¡c á»©ng dá»¥ng trÃªn cloud vÃ  há»‡ thá»‘ng on-premises má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n. BGP giÃºp báº¡n quáº£n lÃ½ Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u linh hoáº¡t, Ä‘áº·c biá»‡t trong cÃ¡c tÃ¬nh huá»‘ng xáº£y ra sá»± cá»‘, Ä‘á»“ng thá»i giáº£m thiá»ƒu khá»‘i lÆ°á»£ng cÃ´ng viá»‡c thá»§ cÃ´ng vÃ  háº¡n cháº¿ rá»§i ro do con ngÆ°á»i.">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Blog 2 :: Internship Report">
    <meta itemprop="description" content="Äá»‹nh tuyáº¿n Ä‘á»™ng sá»­ dá»¥ng MÃ¡y chá»§ Ä‘á»‹nh tuyáº¿n AWS VPC Amazon VPC Route Server cho phÃ©p triá»ƒn khai cÆ¡ cháº¿ Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong Amazon VPC báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c BGP (Border Gateway Protocol). Vá»›i dá»‹ch vá»¥ nÃ y, báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng giá»¯a cÃ¡c á»©ng dá»¥ng trÃªn cloud vÃ  há»‡ thá»‘ng on-premises má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n. BGP giÃºp báº¡n quáº£n lÃ½ Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u linh hoáº¡t, Ä‘áº·c biá»‡t trong cÃ¡c tÃ¬nh huá»‘ng xáº£y ra sá»± cá»‘, Ä‘á»“ng thá»i giáº£m thiá»ƒu khá»‘i lÆ°á»£ng cÃ´ng viá»‡c thá»§ cÃ´ng vÃ  háº¡n cháº¿ rá»§i ro do con ngÆ°á»i.">
    <meta itemprop="wordCount" content="1349">
    <title>Blog 2 :: Internship Report</title>
    <link href="/en/3-translated_blogs/blog_2/index.xml" rel="alternate" type="application/rss+xml" title="Blog 2 :: Internship Report">
    <link href="/css/auto-complete/auto-complete.min.css?1757858842" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1757858842" defer></script>
    <script src="/js/search-lunr.js?1757858842" defer></script>
    <script src="/js/search.js?1757858842" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1757858842";
    </script>
    <script src="/js/lunr/lunr.min.js?1757858842" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1757858842" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1757858842" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1757858842" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1757858842" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1757858842" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1757858842" rel="stylesheet">
    <link href="/css/theme.css?1757858842" rel="stylesheet">
    <link href="/css/format-html.css?1757858842" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/3-translated_blogs\/blog_2\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'relearn-light', 'relearn-dark' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/css/custom.css?1757858842" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/en/3-translated_blogs/blog_2/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#yÃªu-cáº§u-kiáº¿n-thá»©c-ná»n-táº£ng">YÃªu cáº§u kiáº¿n thá»©c ná»n táº£ng</a></li>
        <li><a href="#cÃ¡c-tÃ¬nh-huá»‘ng-káº¿t-ná»‘i-á»©ng-dá»¥ng">CÃ¡c tÃ¬nh huá»‘ng káº¿t ná»‘i á»©ng dá»¥ng</a></li>
        <li><a href="#tÃ­nh-nÄƒng-cá»§a-vpc-route-server">TÃ­nh nÄƒng cá»§a VPC Route Server</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/en/index.html"><span itemprop="name">Internship Report</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/en/3-translated_blogs/index.html"><span itemprop="name">Translated Blogs</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Blog 2</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/en/3-translated_blogs/blog_1/index.html" title="Blog 1 (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/en/4-events-participated/index.html" title="Events Participated (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 3-translated_blogs" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="blog-2">Blog 2</h1>

<h1 id="Ä‘á»‹nh-tuyáº¿n-Ä‘á»™ng-sá»­-dá»¥ng-mÃ¡y-chá»§-Ä‘á»‹nh-tuyáº¿n-aws-vpc">Äá»‹nh tuyáº¿n Ä‘á»™ng sá»­ dá»¥ng MÃ¡y chá»§ Ä‘á»‹nh tuyáº¿n AWS VPC</h1>
<p><a href="https://docs.aws.amazon.com/vpc/latest/userguide/dynamic-routing-route-server.html" rel="external" target="_blank">Amazon VPC Route Server</a> cho phÃ©p triá»ƒn khai cÆ¡ cháº¿ Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong <a href="https://aws.amazon.com/vpc/" rel="external" target="_blank">Amazon VPC</a> báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c BGP (Border Gateway Protocol). Vá»›i dá»‹ch vá»¥ nÃ y, báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng giá»¯a cÃ¡c á»©ng dá»¥ng trÃªn cloud vÃ  há»‡ thá»‘ng on-premises má»™t cÃ¡ch thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n. BGP giÃºp báº¡n quáº£n lÃ½ Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u linh hoáº¡t, Ä‘áº·c biá»‡t trong cÃ¡c tÃ¬nh huá»‘ng xáº£y ra sá»± cá»‘, Ä‘á»“ng thá»i giáº£m thiá»ƒu khá»‘i lÆ°á»£ng cÃ´ng viá»‡c thá»§ cÃ´ng vÃ  háº¡n cháº¿ rá»§i ro do con ngÆ°á»i.</p>
<p>Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ xem xÃ©t nhiá»u tÃ¬nh huá»‘ng á»©ng dá»¥ng trong Ä‘Ã³ viá»‡c Ä‘á»‹nh tuyáº¿n Ä‘á»™ng á»Ÿ má»©c á»©ng dá»¥ng cÃ³ áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n Ä‘áº¿n cÃ¡c instance, cÅ©ng nhÆ° cÃ¡ch há»‡ thá»‘ng xá»­ lÃ½ khi cÃ³ sá»± cá»‘ Ä‘á»ƒ giáº£m giÃ¡n Ä‘oáº¡n xuá»‘ng má»©c tháº¥p nháº¥t.</p>
<h3 id="yÃªu-cáº§u-kiáº¿n-thá»©c-ná»n-táº£ng">YÃªu cáº§u kiáº¿n thá»©c ná»n táº£ng</h3>
<p>NgÆ°á»i Ä‘á»c Ä‘Æ°á»£c giáº£ Ä‘á»‹nh lÃ  Ä‘Ã£ náº¯m cÃ¡c khÃ¡i niá»‡m máº¡ng cÆ¡ báº£n trong AWS liÃªn quan Ä‘áº¿n tÃ­nh sáºµn sÃ ng cao vÃ  cÆ¡ cháº¿ failover, cháº³ng háº¡n nhÆ° <a href="https://aws.amazon.com/ec2/" rel="external" target="_blank">Amazon Elastic Compute Cloud (Amazon EC2)</a>, <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html" rel="external" target="_blank">Elastic Network Interfaces (ENI)</a>, Amazon VPC, báº£ng Ä‘á»‹nh tuyáº¿n VPC, vÃ  <a href="https://aws.amazon.com/about-aws/global-infrastructure/regions_az/" rel="external" target="_blank">Availability Zone (AZ)</a>. NgoÃ i ra, báº¡n cÅ©ng nÃªn hiá»ƒu vá» cÃ¡c nguyÃªn lÃ½ máº¡ng phá»• biáº¿n nhÆ° Ä‘á»‹a chá»‰ IP, CIDR, Ä‘á»‹nh tuyáº¿n máº¡ng, BGP vÃ  Bidirectional Forwarding Detection (BFD). BÃ i viáº¿t nÃ y sáº½ khÃ´ng Ä‘i sÃ¢u vÃ o viá»‡c giáº£i thÃ­ch cÃ¡c khÃ¡i niá»‡m ná»n táº£ng Ä‘Ã³, mÃ  táº­p trung mÃ´ táº£ cÃ¡ch sá»­ dá»¥ng chÃºng Ä‘á»ƒ triá»ƒn khai giáº£i phÃ¡p floating IP cho viá»‡c chuyá»ƒn Ä‘á»•i dá»± phÃ²ng á»©ng dá»¥ng. Náº¿u báº¡n cáº§n tÃ¬m hiá»ƒu thÃªm vá» ná»n táº£ng máº¡ng AWS, hÃ£y tham kháº£o tÃ i liá»‡u chÃ­nh thá»©c cá»§a AWS vá» VPC networking vÃ  cÃ¡c bÃ i viáº¿t trong má»¥c AWS Networking and Content Delivery <a href="https://docs.aws.amazon.com/vpc/latest/userguide/dynamic-routing-route-server.html" rel="external" target="_blank">á» Ä‘Ã¢y</a>.</p>
<h3 id="cÃ¡c-tÃ¬nh-huá»‘ng-káº¿t-ná»‘i-á»©ng-dá»¥ng">CÃ¡c tÃ¬nh huá»‘ng káº¿t ná»‘i á»©ng dá»¥ng</h3>
<p>Trong VPC, route table lÃ  thÃ nh pháº§n quyáº¿t Ä‘á»‹nh luá»“ng dá»¯ liá»‡u Ä‘i nhÆ° tháº¿ nÃ o. ChÃºng Ä‘Æ°á»£c gÃ¡n cho subnet, Internet Gateway (IGW), hoáº·c Virtual Private Gateway Ä‘á»ƒ Ä‘á»‹nh nghÄ©a Ä‘Æ°á»ng Ä‘i cá»§a lÆ°u lÆ°á»£ng trÆ°á»›c khi Ä‘áº¿n Ä‘Ã­ch. VÃ­ dá»¥, báº¡n cÃ³ thá»ƒ thÃªm route Ä‘á»ƒ táº¥t cáº£ traffic Ä‘i qua má»™t firewall trÆ°á»›c khi Ä‘áº¿n á»©ng dá»¥ng, hoáº·c buá»™c subnet pháº£i Ä‘i qua NAT Gateway, IGW, Peering Connection, hoáº·c VPN Gateway tÃ¹y nhu cáº§u.</p>
<p>Má»™t sá»‘ á»©ng dá»¥ng Ä‘áº·c biá»‡t (nhÆ° thiáº¿t bá»‹ an ninh máº¡ng hoáº·c xá»­ lÃ½ traffic) yÃªu cáº§u kháº£ nÄƒng kiá»ƒm soÃ¡t chi tiáº¿t Ä‘Æ°á»ng Ä‘i cá»§a dá»¯ liá»‡u Ä‘á»ƒ Ä‘áº£m báº£o táº¥t cáº£ lÆ°u lÆ°á»£ng pháº£i Ä‘Æ°á»£c gá»­i Ä‘áº¿n á»©ng dá»¥ng trung gian nÃ y trÆ°á»›c khi Ä‘áº¿n Ä‘iá»ƒm Ä‘Ã­ch cuá»‘i cÃ¹ng. Má»™t vÃ­ dá»¥ quen thuá»™c lÃ  viá»‡c Ä‘iá»u hÆ°á»›ng traffic Ä‘áº¿n thiáº¿t bá»‹ báº£o máº­t Ä‘á»ƒ kiá»ƒm tra trÆ°á»›c khi gá»­i sang dá»‹ch vá»¥ chÃ­nh.</p>
<p>Náº¿u chá»‰ dÃ¹ng static route thÃ¬ báº¡n cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u Ä‘Ã³, nhÆ°ng nÃ³ tá»“n táº¡i nhiá»u háº¡n cháº¿:</p>
<ul>
<li>KhÃ´ng tá»± Ä‘á»™ng thÃ­ch á»©ng khi cÃ³ sá»± cá»‘.</li>
<li>Cáº§n thao tÃ¡c thá»§ cÃ´ng Ä‘á»ƒ thay Ä‘á»•i.</li>
<li>Quáº£n lÃ½ trá»Ÿ nÃªn phá»©c táº¡p khi há»‡ thá»‘ng má»Ÿ rá»™ng.
Há»‡ quáº£ lÃ  tÄƒng nguy cÆ¡ lá»—i con ngÆ°á»i vÃ  kÃ©o dÃ i thá»i gian phá»¥c há»“i. Trong khi Ä‘Ã³, dynamic routing cÃ³ thá»ƒ giáº£i quyáº¿t: tá»± Ä‘á»™ng cáº­p nháº­t route table, Ä‘áº£m báº£o kháº£ nÄƒng má»Ÿ rá»™ng, vÃ  há»— trá»£ failover mÃ  khÃ´ng cáº§n thao tÃ¡c thá»§ cÃ´ng.</li>
</ul>
<p>LÆ°u Ã½: AWS khuyáº¿n nghá»‹ sá»­ dá»¥ng Gateway Load Balancer (GWLB) cho nhu cáº§u HA vÃ  redundancy. Chá»‰ khi nÃ o á»©ng dá»¥ng khÃ´ng há»— trá»£ GWLB (hoáº·c mÃ´i trÆ°á»ng khÃ´ng cÃ³ GWLB, vÃ­ dá»¥ AWS Local Zone), báº¡n má»›i nÃªn cÃ¢n nháº¯c giáº£i phÃ¡p vá»›i Route Server.</p>
<h3 id="tÃ­nh-nÄƒng-cá»§a-vpc-route-server">TÃ­nh nÄƒng cá»§a VPC Route Server</h3>
<p>VPC Route Server cung cáº¥p Ä‘á»‹nh tuyáº¿n Ä‘á»™ng bÃªn trong VPC thÃ´ng qua BGP. CÃ¡c á»©ng dá»¥ng máº¡ng cÃ³ thá»ƒ dÃ¹ng BGP Ä‘á»ƒ cáº­p nháº­t báº£ng Ä‘á»‹nh tuyáº¿n cá»§a VPC, tá»« Ä‘Ã³ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng chi tiáº¿t vÃ  há»— trá»£ failover tá»± Ä‘á»™ng giá»¯a cÃ¡c instance trong cÃ¹ng hoáº·c khÃ¡c AZ. Route Server cÅ©ng cÃ³ thá»ƒ cáº­p nháº­t báº£ng Ä‘á»‹nh tuyáº¿n cá»§a VPC vÃ  IGW vá»›i cÃ¡c Ä‘Æ°á»ng Ä‘i IPv4/IPv6 Æ°u tiÃªn, giÃºp workload cÃ³ kháº£ nÄƒng chá»‹u lá»—i cao. Khi má»™t AZ gáº·p sá»± cá»‘, Route Server sáº½ tá»± Ä‘á»™ng cáº­p nháº­t route table Ä‘á»ƒ chuyá»ƒn hÆ°á»›ng traffic sang AZ khÃ¡c, cáº£i thiá»‡n kháº£ nÄƒng quáº£n lÃ½ vÃ  tÃ­nh tÆ°Æ¡ng thÃ­ch vá»›i á»©ng dá»¥ng cá»§a bÃªn thá»© ba.
ChÃºng ta sáº½ xem xÃ©t cÃ¡c tÃ¬nh huá»‘ng dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y Ä‘Æ°á»£c cÃ¡c kháº£ nÄƒng Ä‘á»‹nh tuyáº¿n cá»§a VPC Route Server.</p>
<p><strong>TÃ¬nh huá»‘ng #1: DÃ¹ng Floating IP cho application failover (chuyá»ƒn Ä‘á»•i dá»± phÃ²ng á»©ng dá»¥ng)</strong>
Giáº£ sá»­ báº¡n cÃ³ á»©ng dá»¥ng quan trá»ng cháº¡y trÃªn má»™t EC2 á»Ÿ AZ1. Äá»ƒ Ä‘áº£m báº£o tÃ­nh sáºµn sÃ ng, báº¡n triá»ƒn khai thÃªm má»™t instance standby á»Ÿ AZ2. á»¨ng dá»¥ng nÃ y khÃ´ng tÃ­ch há»£p vá»›i GWLB hoáº·c mÃ´i trÆ°á»ng khÃ´ng há»— trá»£ GWLB. Má»¥c tiÃªu cá»§a báº¡n lÃ  duy trÃ¬ á»©ng dá»¥ng hoáº¡t Ä‘á»™ng liÃªn tá»¥c khi instance chÃ­nh hoáº·c cáº£ AZ1 bá»‹ lá»—i.</p>
<p>Trong ká»‹ch báº£n nÃ y, chÃºng ta minh há»a cÃ¡ch sá»­ dá»¥ng floating IP Ä‘á»ƒ thá»±c hiá»‡n quÃ¡ trÃ¬nh failover liá»n máº¡ch giá»¯a hai EC2 instance Ä‘Æ°á»£c triá»ƒn khai á»Ÿ hai AZ khÃ¡c nhau trong má»™t kiáº¿n trÃºc high availability. Báº¡n cÃ³ má»™t á»©ng dá»¥ng quan trá»ng cháº¡y trÃªn EC2 á»Ÿ AZ1, Ä‘á»“ng thá»i má»™t EC2 khÃ¡c Ä‘Æ°á»£c triá»ƒn khai á»Ÿ AZ2 Ä‘á»ƒ lÃ m mÃ¡y dá»± phÃ²ng. á»¨ng dá»¥ng nÃ y khÃ´ng Ä‘Æ°á»£c tÃ­ch há»£p vá»›i Gateway Load Balancer (GWLB), hoáº·c mÃ´i trÆ°á»ng AWS cá»§a báº¡n (vÃ­ dá»¥ Local Zone) khÃ´ng há»— trá»£ GWLB. Má»¥c tiÃªu Ä‘áº·t ra lÃ  Ä‘áº£m báº£o cÆ¡ cháº¿ dá»± phÃ²ng cho á»©ng dá»¥ng trong trÆ°á»ng há»£p instance chÃ­nh hoáº·c cáº£ AZ1 gáº·p sá»± cá»‘.</p>
<p>Báº¡n cÃ³ thá»ƒ dÃ¹ng AWS CloudFormation tá»« repo aws-samples Ä‘á»ƒ triá»ƒn khai ká»‹ch báº£n #1 vÃ o tÃ i khoáº£n AWS cá»§a mÃ¬nh. Template CloudFormation sáº½ tá»± Ä‘á»™ng táº¡o ra mÃ´i trÆ°á»ng sau:</p>
<ul>
<li>Má»™t VPC vá»›i 3 subnet náº±m trÃªn 2 AZ.</li>
<li>Báº£ng Ä‘á»‹nh tuyáº¿n (route table) cho cáº£ 3 subnet.</li>
<li>Táº¡o vÃ  gáº¯n Internet Gateway (IGW) vÃ o VPC, Ä‘á»“ng thá»i thÃªm route máº·c Ä‘á»‹nh ra IGW trong route table.</li>
<li>Táº¡o vÃ  gáº¯n Route Server cho VPC (Route Server sá»­ dá»¥ng ASN 65000).</li>
<li>Táº¡o hai Route Server Endpoint (RSE) trong má»—i subnet Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh sáºµn sÃ ng cao.</li>
<li>Thiáº¿t láº­p cÃ¡c route server peer.</li>
<li>Táº¡o hai EC2 instance Ä‘á»ƒ mÃ´ phá»ng á»©ng dá»¥ng HA cáº§n kiá»ƒm thá»­, sá»­ dá»¥ng pháº§n má»m Gobgp.</li>
<li>Má»—i instance sáº½ cháº¡y BGP vá»›i ASN 65001 vÃ  káº¿t ná»‘i BGP tá»›i RSE trong subnet tÆ°Æ¡ng á»©ng.</li>
<li>File cáº¥u hÃ¬nh Gobgp (gobgpd.conf) Ä‘Æ°á»£c náº¡p sáºµn thÃ´ng qua user-data khi táº¡o EC2, vÃ  Ä‘Æ°á»£c lÆ°u táº¡i thÆ° má»¥c /home/ec2-user.</li>
<li>Táº¡o thÃªm má»™t instance test Ä‘á»ƒ ping tá»›i loopback IP cá»§a á»©ng dá»¥ng HA.</li>
<li>CÃ³ thá»ƒ sá»­ dá»¥ng AWS Systems Manager Ä‘á»ƒ truy cáº­p vÃ  quáº£n lÃ½ cÃ¡c instance vá»«a táº¡o.</li>
</ul>
<p><strong>Tá»•ng quan giáº£i phÃ¡p</strong>
ChÃºng ta sá»­ dá»¥ng má»™t Ä‘á»‹a chá»‰ floating IP Ä‘Æ°á»£c cáº¥p tá»« dáº£i CIDR náº±m ngoÃ i VPC Ä‘á»ƒ á»©ng dá»¥ng sá»­ dá»¥ng. Client sáº½ káº¿t ná»‘i Ä‘áº¿n á»©ng dá»¥ng thÃ´ng qua Ä‘á»‹a chá»‰ IP nÃ y. Trong trÆ°á»ng há»£p instance chÃ­nh gáº·p sá»± cá»‘, toÃ n bá»™ lÆ°u lÆ°á»£ng gá»­i Ä‘áº¿n floating IP sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng chuyá»ƒn hÆ°á»›ng sang ENI cá»§a instance dá»± phÃ²ng á»Ÿ AZ thá»© hai. CÃ¡ch lÃ m nÃ y giÃºp giáº£m thiá»ƒu giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥, nhá» Ã¡p dá»¥ng cÆ¡ cháº¿ floating IP káº¿t há»£p vá»›i Ä‘á»‹nh tuyáº¿n Ä‘á»™ng trong VPC, mÃ  khÃ´ng cáº§n cáº­p nháº­t cáº¥u hÃ¬nh phÃ­a client hay thá»±c hiá»‡n thao tÃ¡c thá»§ cÃ´ng.</p>
<p><div style="text-align:center;">
  <figure>
    <img src="/images/Img1-Blog2.png" alt="Figure 1. Instance#1 is active">
    <figcaption><i>Figure 1. Instance#1 is active</i></figcaption>
  </figure>
</div>
 </p>
<p>NhÆ° minh há»a á»Ÿ HÃ¬nh 1, á»©ng dá»¥ng hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh active/standby giá»¯a hai AZ. Cáº£ hai EC2 instance cÃ¹ng quáº£ng bÃ¡ má»™t Ä‘á»‹a chá»‰ loopback (vÃ­ dá»¥ 172.16.1.1/32) ra máº¡ng thÃ´ng qua phiÃªn BGP vá»›i hai VPC RSE náº±m trong cÃ¹ng má»™t subnet. Viá»‡c sá»­ dá»¥ng hai RSE nháº±m Ä‘áº£m báº£o tÃ­nh dá»± phÃ²ng vÃ  nÃ¢ng cao kháº£ nÄƒng sáºµn sÃ ng cá»§a dá»‹ch vá»¥ Ä‘á»‹nh tuyáº¿n.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/en/index.html">
            <div class="logo-title">Internship Report</div>
          </a>
        </div>
        <search><form action="/en/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/en/index.html"><a class="padding" href="/en/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/en/1-worklog/index.html"><a class="padding" href="/en/1-worklog/index.html"><b>1. </b>Worklog</a><ul id="R-subsections-16447363d800ec5deaa3b0a76c63c922" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/en/2-proposal/index.html"><a class="padding" href="/en/2-proposal/index.html"><b>2. </b>Proposal</a></li>
            <li class="parent " data-nav-id="/en/3-translated_blogs/index.html"><a class="padding" href="/en/3-translated_blogs/index.html"><b>3. </b>Translated Blogs</a><ul id="R-subsections-0acade1cd81cfef73c977718aa56c877" class="collapsible-menu">
            <li class="" data-nav-id="/en/3-translated_blogs/blog_1/index.html"><a class="padding" href="/en/3-translated_blogs/blog_1/index.html"><b>3.1. </b>Blog 1</a></li>
            <li class="active " data-nav-id="/en/3-translated_blogs/blog_2/index.html"><a class="padding" href="/en/3-translated_blogs/blog_2/index.html"> <b> 3.2. </b>Blog 2</a></li></ul></li>
            <li class="" data-nav-id="/en/4-events-participated/index.html"><a class="padding" href="/en/4-events-participated/index.html"><b>4. </b>Events Participated</a></li>
            <li class="" data-nav-id="/en/5-workshop/index.html"><a class="padding" href="/en/5-workshop/index.html"><b>5. </b>Workshop</a></li>
            <li class="" data-nav-id="/en/6-self-assesment/index.html"><a class="padding" href="/en/6-self-assesment/index.html"><b>6. </b>Self Assesment</a></li>
            <li class="" data-nav-id="/en/7-sharing-and-feedback/index.html"><a class="padding" href="/en/7-sharing-and-feedback/index.html"><b>7. </b>Sharing and Feedback</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
			<li class="R-languageswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-language"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-language">Language</label>
                  <select id="R-select-language">
                    <option id="R-select-language-en" value="en" data-url="/en/3-translated_blogs/blog_2/index.html" lang="en" selected data-selected>English</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
            </li>
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Theme</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-relearn-light" value="relearn-light" selected>Relearn Light</option>
                    <option id="R-select-variant-relearn-dark" value="relearn-dark">Relearn Dark</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1757858842" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1757858842" defer></script>
    <script src="/js/theme.js?1757858842" defer></script>
  </body>
</html>
